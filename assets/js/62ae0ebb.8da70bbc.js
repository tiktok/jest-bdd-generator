"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[340],{6292:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>b,contentTitle:()=>x,default:()=>k,frontMatter:()=>g,metadata:()=>m,toc:()=>y});var r=t(2388),i=t(5667),o=t(5528),a=t(1838),s=t(6134),l=t(6540);function u(e){var n=e.indexOf("@"),t=e.substring(0,n<0?void 0:n);if(t.match(/^\s+$/))return"return true";var r=t.replace(/\band\b/g,"&&").replace(/\bor\b/g,"||").replace(/(\w(?:\s?%\s?\d+)?) (!?=) ([\s\d\,\.]+)/g,(function(e,n,t,r,i,o,a){var s="="===t?"===":"!==",l="("+n+" "+s+" "+r+")";if(-1!==r.indexOf(",")){var u=r.split(",").map((function(e){return c(n,s,e)}));l="!=="===s?u.join(" && "):u.join(" || ")}else l=c(n,s,r);return"("+l+")"}));return"return "+r}function c(e,n,t){var r=e+" "+n+" "+t;if(-1!==t.indexOf("..")){var i=t.split("..");r=e+" >= "+i[0]+" && "+e+" <= "+i[1],"!=="===n&&(r="!("+r+")")}return r}var d=["0","1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","18","19","100","1000","10000","0.1","0.2","0.3","0.4","0.5","0.6","0.7","0.8","0.9","1.1","2.1","3.1","1.2","2.2","3.2","0.10","0.100","0.1000","0.10000"].map((function(e){return{num:e}})),f=fetch("https://raw.githubusercontent.com/unicode-cldr/cldr-core/master/supplemental/plurals.json").then((function(e){return e.json()}));function p(e){return h.apply(this,arguments)}function h(){return(h=(0,s.A)((0,a.A)().mark((function e(n){var t,i,o,s,l,c,d,p,h,v,g,x,m,b;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:if(t=e.sent,n.keys){e.next=5;break}return e.abrupt("return","key invalid");case 5:if(i=t.supplemental["plurals-type-cardinal"][n.keys]){e.next=8;break}return e.abrupt("return","NA");case 8:if(n.num){e.next=10;break}return e.abrupt("return","NA");case 10:o="/",e.t0=(0,a.A)().keys(i);case 12:if((e.t1=e.t0()).done){e.next=30;break}if(s=e.t1.value,l=i[s]){e.next=17;break}return e.abrupt("continue",12);case 17:if(c=new Function("n","i","v","w","f","t","c","e",u(l)),d=parseInt(n.num),p=n.num.split("."),h=p[0],v=p[1],x=(g=void 0===v?"":v).replace(/0+$/,""),m=g.length,b=x.length,!c(d,parseInt(h),m,b,g?parseInt(g):0,x,0,0)){e.next=28;break}return o=(0,r.jsxs)("div",{title:l,children:[" ",s.split("-").slice(-1)[0]]}),e.abrupt("break",30);case 28:e.next=12;break;case 30:return e.abrupt("return",o);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){var e=o.useState(),n=e[0],t=e[1];if(f.then((function(e){t(e)})),n){var i=Object.keys(n.supplemental["plurals-type-cardinal"]),a=i.map((function(e){return{keys:e}})),s={keys:i,num:""};return(0,r.jsx)(l.D,{colSelections:s,defaultCols:a,defaultRows:d,execute:p})}return(0,r.jsx)("h1",{children:"https://raw.githubusercontent.com/unicode-cldr/cldr-core/master/supplemental/plurals.json"})}const g={id:"oracleIntl",title:"Intl.PluralRule from Unicode"},x=void 0,m={id:"demos/oracleIntl",title:"Intl.PluralRule from Unicode",description:'This demo integrates the TestOracle feature to demonstrate how Unicode\u2019s CLDR Plural Rules are compiled and executed in JavaScript. The tool provides an interactive table where you can explore how different numbers are categorized into plural forms (e.g., "one," "few," "many," "other") across various languages and locales.',source:"@site/docs/demos/oracleIntl.mdx",sourceDirName:"demos",slug:"/demos/oracleIntl",permalink:"/jest-bdd-generator/demos/oracleIntl",draft:!1,unlisted:!1,editUrl:"https://github.com/tiktok/jest-bdd-generator/tree/main/packages/website/docs/demos/oracleIntl.mdx",tags:[],version:"current",frontMatter:{id:"oracleIntl",title:"Intl.PluralRule from Unicode"},sidebar:"docsSidebar",previous:{title:"Number[<rounding methods>]",permalink:"/jest-bdd-generator/demos/oracleNumber"}},b={},y=[{value:"Key Features:",id:"key-features",level:3},{value:"Selecting and Copying Data",id:"selecting-and-copying-data",level:3},{value:"Deeplinking",id:"deeplinking",level:3},{value:"Use Case for this TestOracle demo",id:"use-case-for-this-testoracle-demo",level:3}];function j(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["This demo integrates the ",(0,r.jsx)(n.strong,{children:"TestOracle"})," feature to demonstrate how ",(0,r.jsxs)(n.strong,{children:["Unicode\u2019s ",(0,r.jsx)(n.a,{href:"https://raw.githubusercontent.com/unicode-cldr/cldr-core/master/supplemental/plurals.json",children:(0,r.jsx)(n.strong,{children:"CLDR Plural Rules"})})]}),' are compiled and executed in JavaScript. The tool provides an interactive table where you can explore how different numbers are categorized into plural forms (e.g., "one," "few," "many," "other") across various languages and locales.']}),"\n",(0,r.jsx)(n.h3,{id:"key-features",children:"Key Features:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Run"}),": Click the ",(0,r.jsx)(n.strong,{children:"run"})," button to execute the tests and see real-time pluralization results."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Copy"}),": Use the ",(0,r.jsx)(n.strong,{children:"copy"})," feature to export the data in ",(0,r.jsx)(n.strong,{children:"Gherkin"})," or ",(0,r.jsx)(n.strong,{children:"XLS"})," formats for easy integration into your test cases."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Edit and Customize"}),": You can add new rows or columns to test custom numbers or languages, or modify the existing data to see how different scenarios affect pluralization results."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"selecting-and-copying-data",children:"Selecting and Copying Data"}),"\n",(0,r.jsxs)(n.p,{children:["Just like the ",(0,r.jsx)(n.a,{href:"/demos/oracleNumber",children:(0,r.jsx)(n.strong,{children:"Rounding Methods Demo"})}),", you can select and copy specific parts of the table, including the relevant row and column headers:"]}),"\n",(0,r.jsx)(n.h3,{id:"deeplinking",children:"Deeplinking"}),"\n",(0,r.jsxs)(n.p,{children:["Similar to the ",(0,r.jsx)(n.strong,{children:"Rounding Methods Demo"}),", this demo also leverages URL hashing to store the table configuration."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Load a Setting"}),": When a URL with a valid hash is loaded, the TestOracle will automatically restore the rows and columns based on the hash."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default View"}),": If no valid hash is found, the page will display the default set of rows and columns, allowing you to start from scratch."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"",children:(0,r.jsx)(v,{})}),"\n",(0,r.jsx)(n.h3,{id:"use-case-for-this-testoracle-demo",children:"Use Case for this TestOracle demo"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automated Testing of Plural Rules"}),": Developers working on multilingual applications can use the TestOracle tool to automate the validation of pluralization logic. By integrating TestOracle into your workflow, you can ensure that your app handles plural forms consistently across all supported languages."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Comprehensive Coverage"}),": TestOracle enables you to test across multiple languages simultaneously, ensuring that your plural rules are accurate for all supported locales, reducing the risk of errors in localization."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Manage ",(0,r.jsx)(n.code,{children:"Examples"}),"in Gherkin"]}),": When exported as Gherkin, you can easily ",(0,r.jsx)(n.strong,{children:"batch update the examples"})," in your ",(0,r.jsx)(n.code,{children:".feature"})," files, making it more efficient to maintain and scale test cases for different rounding methods."]}),"\n"]})]})}function k(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},6540:(e,n,t)=>{t.d(n,{D:()=>F});var r,i,o,a,s,l,u,c=t(1838),d=t(8297),f=t(2388),p=t(5528),h=t(5433),v=t(9575);function g(e,n,t,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,i)}function x(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}var y=["#000","#dfe","#fe2c55","#FFF","#faffde","#048"],j=1,k=y[1],w=(0,h.Ay)("section")(r||(r=(0,d.A)(["\n  background: ",";\n  width: 50em;\n"])),k),A=(0,h.Ay)("div")(i||(i=(0,d.A)(["\n  display: flex;\n  color: ",";\n  button {\n    background: ",";\n    border: solid 1px ",";\n    border-radius: 0.2em;\n    margin-left: 0.5em;\n    font-size: 18px;\n    padding: 0.2em 0.7em;\n  }\n  div {\n    display: inline-flex;\n    flex-direction: column;\n    justify-content: center;\n    font-size: 12px;\n    input {\n      margin: 0;\n    }\n  }\n"])),y[5],y[1],y[5]),S=(0,h.Ay)("div")(o||(o=(0,d.A)(["\n  > div {\n    border-bottom: solid 1px ",";\n    font-size: 12px;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    line-height: 1.6em;\n    > label {\n      flex: 1 1 0;\n      text-align: right;\n      overflow: hidden;\n    }\n    > input[type='button'] {\n      background: transparent;\n    }\n    > input,\n    > textarea {\n      text-indent: 0.2em;\n    }\n    > input,\n    > select,\n    > textarea {\n      font-size: 12px;\n      flex: 2 1 0;\n      height: 2em;\n      margin: 1px;\n      padding: 0 0.8em;\n      border: solid 1px ",";\n      border-radius: 0.4em;\n    }\n    > textarea {\n      min-height: 4em;\n      padding: 0.4em 0.8em;\n    }\n    > input.empty,\n    > select.empty,\n    > textarea.empty {\n      background: #ccc;\n      color: ",";\n    }\n    > input::placeholder,\n    > textarea::placeholder {\n      color: ",";\n    }\n  }\n"])),y[3],y[5],y[5],y[5]),O=(0,h.Ay)("div")(a||(a=(0,d.A)(["\n  padding: 5em 0;\n  margin: 1em;\n  text-align: center;\n  align-items: stretch;\n  border: dashed;\n  background: rgba(255, 255, 255, 0.5);\n  &:focus {\n    background: #aa6;\n  }\n  em,\n  i,\n  b {\n    float: left;\n    padding: 0 1em;\n  }\n  i {\n    text-decoration: line-through;\n    color: #a88;\n  }\n  em {\n    color: #888;\n  }\n"]))),C=(0,h.Ay)("span")(s||(s=(0,d.A)(["\n  text-align: right;\n  background: ",";\n  height: 1.5em;\n"])),y[3]),N=(0,h.Ay)("label")(l||(l=(0,d.A)(["\n  transition: all 0.3s;\n  display: inline-flex;\n  min-height: 0.6em;\n  cursor: pointer;\n  justify-content: end;\n  > * {\n    flex: 1 1 10em;\n    border: solid 1px transparent;\n    transition: all 0.3s;\n    height: 1.5em;\n  }\n"]))),D=(0,h.Ay)("article")(u||(u=(0,d.A)(["\n  font-size: 10px;\n  width: 100%;\n  position: relative;\n  background: ",";\n  display: flex;\n  align-items: end;\n  overflow: auto;\n\n  > aside {\n    overflow: visible;\n    color: ",";\n    display: table;\n    > label {\n      display: table-row;\n      > a {\n        display: table-cell;\n        white-space: nowrap;\n      }\n    }\n  }\n  > section::-webkit-scrollbar {\n    display: none;\n  }\n  > section {\n    overflow: auto;\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    > div {\n      display: table;\n      > div {\n        color: ",";\n        display: table-row;\n        > span {\n          transition: all 0.3s;\n          border: solid 1px transparent;\n          display: table-cell;\n          height: 1.5em;\n          min-width: 10em;\n          white-space: nowrap;\n          > label {\n            display: flex;\n            flex-direction: column;\n            > * {\n              flex: 0 1 1.5em;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .highlight {\n    background: ",";\n    color: ",";\n    span {\n      background: ",";\n    }\n    .highlight {\n      background: #ffa;\n    }\n  }\n"])),y[4],y[5],y[5],y[1],y[0],y[1]);function I(e){return(e+100).toFixed().substring(1)}function P(e,n){return M(e,n)===e}function M(e,n){var t,r;return Array.isArray(e)?"object"!=typeof e[0]||e[0]instanceof Date?e.find((function(e){return P(e,n)})):null===(t=e.find((function(e){return P(e.value,n)})))||void 0===t?void 0:t.value:"number"==typeof e?"string"==typeof n?(r=n.match(/((\.)|(\de)|(^0[xb]))$/)?Number(n+"0"):Number(n),isNaN(r)?void 0:r):n:"boolean"==typeof e?Boolean(n):e instanceof Date?n?new Date(n):void 0:n}function E(e){var n=e.name,t=e.data,r=e.selections,i=e.focused,o=e.onPaste,a=e.onChange,s=(0,p.useState)(),l=s[0],u=s[1],c=(0,p.useRef)(null),d=(0,p.useCallback)((function(e){null==a||a(e)}),[n,t]);(0,p.useEffect)((function(){var e=t[n];u(""===e||void 0===e?"":function(n){return M(r,n)===e?n:M(r,e)})}),[t,n,t[n]]),(0,p.useEffect)((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),[i]);var h,v,g,x,m=function(e){if(t){var i=e.target;if(""===i.value)delete t[n],u(void 0);else{var o=Array.isArray(r)?r[Number(i.value)]:M(r,i.value);t[n]=o,u(void 0!==o?i.value:"")}d(e)}};return Array.isArray(r)?(0,f.jsxs)("select",{ref:c,name:n.toString(),value:r.findIndex((function(e){return e===l})),onInput:m,onPaste:o,className:void 0===t[n]?"empty":"",children:[(0,f.jsx)("option",{value:"",children:"-none"}),r.map((function(e,n){return(0,f.jsx)("option",{value:n,children:null==e?void 0:e.toString()},n)}))]}):"note"===n?(0,f.jsx)("textarea",{ref:c,name:n.toString(),onInput:m,value:null!==(h=null==l?void 0:l.toString())&&void 0!==h?h:"",onPaste:o,placeholder:"-none",className:void 0===t[n]?"empty":""}):r instanceof Date?(0,f.jsx)("input",{type:"datetime-local",ref:c,name:n.toString(),autoFocus:i,onChange:m,value:l?(g=l,x=g instanceof Date?g:M(new Date,g),x.getFullYear()+"-"+I(x.getMonth()+1)+"-"+I(x.getDate())+"T"+I(x.getHours())+":"+I(x.getMinutes())+":"+I(x.getSeconds())):void 0,onPaste:o,placeholder:"-none",className:void 0===t[n]?"empty":""}):(0,f.jsx)("input",{ref:c,name:n.toString(),autoFocus:i,onInput:m,value:null!==(v=null==l?void 0:l.toString())&&void 0!==v?v:"",onPaste:o,placeholder:"-none",className:void 0===t[n]?"empty":""})}function R(e){var n=e.colSetting,t=e.colHead,r=e.insertBefore,i=e.deleting,o=e.insertAfter,a=e.focused,s=e.onPaste,l=e.onChange,u=(0,p.useReducer)((function(e){return e+1}),0)[1],c=n?Object.keys(n).sort((function(e,n){return"note"===n?-1:1})):[],d=function(e){return null==l?void 0:l(e)};return(0,f.jsx)(S,{onPaste:s,children:t?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{type:"button",value:"InsertBefore",onClick:r}),(0,f.jsx)("input",{type:"button",value:"Delete",onClick:i}),(0,f.jsx)("input",{type:"button",value:"InsertAfter",onClick:o})]})].concat(c.map((function(e,r){var i=n[e],o=i,s=d;if(Array.isArray(i)&&"object"==typeof i[0]&&!(i[0]instanceof Date)){var c=i;o=c.map((function(e){return e.value})),s=function(e){var n=e.target.value,r=c[parseInt(n)];return r&&(Object.keys(r).forEach((function(e){"value"!==e&&(t.expression[e]=r[e])})),u()),null==l?void 0:l(e)}}return(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{children:[e,"\xa0:\xa0"]}),(0,f.jsx)(E,{selections:o,onChange:s,name:e,data:t.expression,focused:a===e})]},r)})))}):(0,f.jsx)(f.Fragment,{})})}function T(e){var n=e.colHead,t=e.onClick,r=e.isEditing,i=e.style,o=e.className,a=e.titles,s=e.getTrigger,l=e.targeted,u=e.children,c=e.onMouseMove,d=null!=a?a:Object.keys(n.expression),h=r?k:"",v=(0,p.useState)([]),g=v[0],x=v[1],m=(0,p.useReducer)((function(e){var t=null!=a?a:Object.keys(n.expression),r=t.map((function(t,r){return e[r]===n.expression[t]?t===l?k:h:"#faa"}));return x(r),t.map((function(e){return n.expression[e]}))}),d.map((function(e){return n.expression[e]})))[1],y=function(e){var n=d.map((function(e){return e===l?k:h}));x(n)};return null==s||s(m),(0,f.jsxs)(N,{style:b({background:h},i),className:o,title:JSON.stringify(n.expression),onMouseMove:c,children:[u,(0===d.length?[void 0]:d).map((function(e,r){var i,o=e?n.expression[e]:void 0;return i=void 0===o?"-empty-":o===1/0?"Infinity":"number"==typeof o&&isNaN(o)?"NaN":JSON.stringify(o),(0,f.jsx)("a",{onClick:function(){return t(n,e)},onTransitionEnd:y,style:{background:g[r],color:"note"===e?"#996":"inherit"},children:i},r)}))]})}function F(e){var n=e.defaultCols,t=e.defaultRows,r=e.colSelections,i=e.execute,o=e.sort,a=(0,p.useState)([]),s=a[0],l=a[1],u=(0,p.useState)([]),d=u[0],h=u[1],g=(0,p.useState)(),m=g[0],S=g[1],I=(0,p.useState)(1),P=I[0],E=I[1],F=(0,p.useState)(),U=F[0],z=F[1],J=U,L=(0,p.useState)(),G=L[0],H=L[1],B=(0,p.useState)(),X=B[0],K=B[1],$=b({note:""},r),W=(0,p.useState)($),Y=W[0],V=W[1],q=(0,p.useState)(),Q=q[0],Z=q[1],_=(0,p.useState)(),ee=_[0],ne=_[1],te=(0,p.useState)(),re=te[0],ie=te[1],oe=(0,p.useState)(),ae=oe[0],se=oe[1],le=(0,p.useState)([]),ue=le[0],ce=le[1],de=(0,p.useState)(!1),fe=de[0],pe=de[1],he=(0,p.useState)("gherkin"),ve=he[0],ge=he[1],xe=new Array(d.length),me=new Array(s.length),be=btoa(String.fromCharCode.apply(null,v.Kc(JSON.stringify([s,d],(function(e,n){return"number"==typeof r[e]?n===1/0?"Infinity":isNaN(n)?"NaN":Number(n):n})))));(0,p.useEffect)((function(){var e=function(e){var n,t;if(!(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.hash))return[[],[],""];var r=window.location.hash.substring(1);if(!r)return[[],[],""];var i=v.UD(new Uint8Array([].concat(atob(r)).map((function(e){return e.charCodeAt(0)}))),{to:"string"}),o=i?JSON.parse(i,(function(n,t){return void 0!==(null==e?void 0:e[n])?M(e[n],t):t})):[[],[]];return[o[0],o[1],r]}(r),i=e[0],o=e[1];o.length?h(o):h(t.map((function(e){return{expression:e}}))),i.length?l(i):l(n.map((function(e){return{expression:e}})))}),[n,t]),(0,p.useEffect)((function(){var e,n;void 0!==(null===(n=window)||void 0===n||null===(e=n.location)||void 0===e?void 0:e.hash)&&(window.location.hash=be)}),[be]);var ye,je=function(e){var n=e.clipboardData.getData("text/plain");if(n&&G){var t=n.split(/\r?\n/),r=Y[G];if(r){var i=[];t.forEach((function(e,n){var t,o;if(i[n]=(0,f.jsx)("em",{children:e}),n>=d.length&&d.push({expression:{}}),i[n]=(0,f.jsx)("i",{children:e}),e){var a;if(null===(t=r[0])||void 0===t?void 0:t.value){var s=r.find((function(n){return n.value===M(n.value,e)}));a=null==s?void 0:s.value,s&&Object.keys(s).forEach((function(e){"value"!==e&&(d[n].expression[e]=s[e])}))}else a=M(r,e);d[n].expression[G]=a,null===(o=xe[n])||void 0===o||o.call(xe),void 0!==a&&(i[n]=(0,f.jsx)("b",{children:JSON.stringify(a)}))}})),h(d.slice(0,t.length)),ne((0,f.jsxs)(f.Fragment,{children:[].concat(i)}))}}},ke=function(){var e=d.findIndex((function(e){return e===U}));if(-1!==e)return[e,d,h];var n=s.findIndex((function(e){return e===U}));if(-1!==n)return[n,s,l];throw new Error("not found")},we={},Ae=(ye=x((function(e,n){return void 0===e&&(e=d),void 0===n&&(n=s),(0,c.A)().mark((function t(){return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map(function(){var e=x((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=x((0,c.A)().mark((function e(n){var r,o,a;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object.assign({},t.expression,n.expression),e.abrupt("return",i(r).catch((function(e){return(0,f.jsx)("s",{title:e.toString(),children:"Error"})})));case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",null!==(a=null!==(o=e.t0.message)&&void 0!==o?o:null===e.t0||void 0===e.t0?void 0:e.t0.toString())&&void 0!==a?a:e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)}))()})),function(){return ye.apply(this,arguments)}),Se=function(){var e=x((0,c.A)().mark((function e(){var n;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(d,s);case 2:n=e.sent,K(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){if(J){var e,n,t=s.indexOf(J),r=d.indexOf(J);null===(e=xe[r])||void 0===e||e.call(xe),null===(n=me[t])||void 0===n||n.call(me),-1===r&&-1===t&&xe.forEach((function(e){return null==e?void 0:e()}))}},Ce=function(e,n){return ue.findIndex((function(t){return t[0]===e&&t[1]===n}))},Ne=function(e,n){ue.push([e,n])},De=function(e,n){var t,r=null!==(t=ue[0])&&void 0!==t?t:[null!=e?e:0,null!=n?n:0],i=r[0],o=r[1];ue.splice(1,ue.length-2);var a=null!=e?e:d.length-1,l=null!=n?n:s.length-1;a<i&&(a=i,i=e),l<o&&(l=o,o=n);for(var u=i;u<=a;u++)for(var c=o;c<=l;c++)Ne(u,c)},Ie=function(e){ce([[re,ae]]),e.preventDefault(),pe(!0)},Pe=function(e){pe(!1),ce([].concat(ue))},Me=function(e,n){V($),H(null!=n?n:Object.keys(r)[0]),Oe(),z(e),J=e,Oe()},Ee=function(){var e=x((0,c.A)().mark((function e(n){var t,r,i;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",Me(n));case 2:return E(t=m===n?-P:1),S(n),e.next=7,o(null==n?void 0:n.expression);case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return",Me(n));case 10:i=d.sort((function(e,n){return t*(r(e)-r(n))})),h(i.map((function(e){return b({},e)}))),K([]);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Re=function(e){return e.reduce((function(e,n){var t=n.expression,r=Object.keys(t);return e.concat(r).filter((function(e,n,t){return t.indexOf(e)===n}))}),[])},Te=function(){var e=x((0,c.A)().mark((function e(){var n,t,r,i,o,a,l;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t=[],ue.length?ue.forEach((function(e){var r=e[0],i=e[1];n.includes(d[r])||n.push(d[r]),t.includes(s[i])||t.push(s[i])})):(n.push.apply(n,d),t.push.apply(t,s)),e.next=5,Ae(n,t);case 5:return r=e.sent,i=Re(n),o=[].concat(i,t.map((function(e,n){return Object.values(e.expression).join(";")}))),a=r.map((function(e,t){return[].concat(i.map((function(e){var r;return null!==(r=n[t].expression[e])&&void 0!==r?r:""})),e)})),l=[o].concat(a).map((function(e){return e.join("gherkin"===ve?" | ":"\t")})).join("\n"),e.next=12,navigator.clipboard.writeText(l);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(e,n){ie(e),se(n)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(A,{children:[(0,f.jsx)("button",{type:"button",onClick:Se,children:"run"}),(0,f.jsx)("button",{type:"button",onClick:Te,children:"copy"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{htmlFor:"rbtGherkin",title:'separator: "|"',children:[(0,f.jsx)("input",{id:"rbtGherkin",type:"radio",value:"Gherkin",name:"format",checked:"gherkin"===ve,onChange:function(){return ge("gherkin")}}),"Gherkin"]}),(0,f.jsxs)("label",{htmlFor:"rbtXls",title:'separator: "\\t"',children:[(0,f.jsx)("input",{id:"rbtXls",type:"radio",value:"xls",name:"format",checked:"xls"===ve,onChange:function(){return ge("xls")}}),"XLS"]})]})]}),(0,f.jsxs)(D,{onMouseUp:Pe,children:[(0,f.jsxs)("aside",{children:[(0,f.jsx)(N,{style:{width:"100%",textAlign:"center"},children:Re(d).map((function(e,n){return(0,f.jsx)("a",{onClick:function(){return function(e){var n,t=r[e],i=((n={})[e]=t,n);V(i),H(e),ne(void 0),Oe(),z(J={expression:{}}),Z(J),Oe()}(e)},style:1===Object.keys(Y).length&&G===e?{background:k}:{},children:e.replace("formatOption","opt")},n)}))}),d.map((function(e,n){return(0,f.jsx)(T,{className:re===n?"highlight":"",onMouseMove:function(){return Fe(n,-1)},titles:Re(d),getTrigger:function(e){xe[n]=e},onClick:Me,colHead:e,isEditing:U===e,targeted:U===e||1===Object.keys(Y).length?G:void 0},n)}))]}),(0,f.jsx)("section",{children:(0,f.jsxs)("div",{onMouseLeave:Pe,children:[(0,f.jsx)("div",{style:we,onMouseDown:function(e){ce([]),e.preventDefault()},children:s.map((function(e,n){return(0,f.jsx)("span",{children:(0,f.jsx)(T,{colHead:e,className:ae===n?"highlight":"",getTrigger:function(e){me[n]=e},onClick:Ee,onMouseMove:function(e){e.buttons===j&&(De(void 0,n),ce([].concat(ue)),e.preventDefault())},isEditing:U===e,style:{textAlign:"center"},children:(0,f.jsx)("i",{children:m===e?1===P?"\u2193":"\u2191":void 0})})},n)}))}),d.map((function(e,n){return(0,f.jsx)("div",{onMouseDown:Ie,style:we,className:re===n?"highlight":"",children:s.map((function(e,t){var r,i;return(0,f.jsx)(C,{style:-1!==Ce(n,t)?{borderColor:y[5]+" "+y[2]+" "+y[2]+" "+y[5]}:{},onMouseMove:function(e){return Fe(n,t),function(e){void 0!==ae&&void 0!==re&&fe&&e.buttons===j&&(e.preventDefault(),De(re,ae),ce([].concat(ue)))}(e)},className:ae===t?"highlight":"",children:null!==(i=null==X||null===(r=X[n])||void 0===r?void 0:r[t])&&void 0!==i?i:"--"},t)}))},n)}))]})})]}),(0,f.jsxs)(w,{children:[(0,f.jsx)(R,{onPaste:je,colSetting:Y,colHead:U,focused:G,insertAfter:function(){var e=ke(),n=e[0],t=e[1],r=e[2];t.splice(n+1,0,{expression:{}}),r([].concat(t))},deleting:function(){var e=ke(),n=e[0],t=e[1],r=e[2];t.splice(n,1),z(void 0),r([].concat(t))},insertBefore:function(){var e=ke(),n=e[0],t=e[1],r=e[2];t.splice(n,0,{expression:{}}),r([].concat(t))},onChange:function(){(null==Q?void 0:Q.expression)&&U===Q?Object.keys(Q.expression).forEach((function(e){var n=e,t=Q.expression[n];d.forEach((function(e,r){var i;e.expression[n]!==t&&(delete Q.expression[n],e.expression[n]=t),null===(i=xe[r])||void 0===i||i.call(xe)}))})):Oe()}}),Q&&Q===U?(0,f.jsx)(O,{onPaste:je,children:(0,f.jsx)("span",{children:ee||"paste multiple lines here"})}):(0,f.jsx)(f.Fragment,{})]})]})}}}]);
(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[518],{7737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>u,default:()=>m,frontMatter:()=>s,gherkin:()=>d,metadata:()=>a,tests:()=>c,toc:()=>p});var r=n(2388),o=n(5667),i=(n(5528),n(171));const s={id:"generateTests",title:"Missing testing implements"},u=void 0,a={id:"demos/generateTests",title:"Missing testing implements",description:"describe('Fail With Math.f16Round', () => {",source:"@site/docs/demos/genTestings.mdx",sourceDirName:"demos",slug:"/demos/generateTests",permalink:"/jest-bdd-generator/demos/generateTests",draft:!1,unlisted:!1,editUrl:"https://github.com/tiktok/jest-bdd-generator/tree/main/packages/website/docs/demos/genTestings.mdx",tags:[],version:"current",frontMatter:{id:"generateTests",title:"Missing testing implements"},sidebar:"docsSidebar",previous:{title:"Complete Testing",permalink:"/jest-bdd-generator/demos/fullImplement"},next:{title:"Missing step comments",permalink:"/jest-bdd-generator/demos/generateComments"}},l={},c="import { describe, test, it, expect } from '@jest/globals';\n\ndescribe('Fail With Math.f16Round', () => {\ntest.each([\n{ num: 1234.1, method: 'ceil', result: 1235 },\n{ num: 1234.9, method: 'ceil', result: 1235 },\n{ num: -1234.1, method: 'ceil', result: -1234 },\n{ num: -1234.9, method: 'ceil', result: -1234 },\n{ num: 1234.1, method: 'floor', result: 1234 },\n{ num: 1234.9, method: 'floor', result: 1234 },\n{ num: -1234.1, method: 'floor', result: -1235 },\n{ num: -1234.9, method: 'floor', result: -1235 },\n{ num: 1234.5, method: 'round', result: 1235 },\n{ num: 1234.4, method: 'round', result: 1234 },\n{ num: -1234.5, method: 'round', result: -1234 },\n{ num: -1234.6, method: 'round', result: -1235 }\n])('Integer pattern', async ({ num, method, result }) => {\n//@Given input number is <num>\nexpect(typeof num).toBe('number');\n\n    //@When rounding with <method>\n    expect(Math).toHaveProperty(method);\n\n    //@Then rounded number is <result>\n    expect(Math[method](num)).toEqual(result);\n\n});\n});\n",d='@format-feature\nFeature: Fail With Math.f16Round\n- reference:  ([Math.f16round](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/f16round))\n\nScenario Outline: Integer pattern\nGiven input number is <num>\nWhen rounding with <method>\nThen rounded number is <result>\n\nExamples:\n| num | method | result |\n| 1234.1 | "ceil" | 1235 |\n| 1234.9 | "ceil" | 1235 |\n| -1234.1 | "ceil" | -1234 |\n| -1234.9 | "ceil" | -1234 |\n| 1234.1 | "floor" | 1234 |\n| 1234.9 | "floor" | 1234 |\n| -1234.1 | "floor" | -1235 |\n| -1234.9 | "floor" | -1235 |\n| 1234.5 | "round" | 1235 |\n| 1234.4 | "round" | 1234 |\n| -1234.5 | "round" | -1234 |\n| -1234.6 | "round" | -1235 |\n\nScenario Outline: Float, Single and double\nGiven input number is <num>\nWhen rounding with <method>\nThen rounded number is <result>\n\nExamples:\n| num | method | result |\n| 5.5 | "fround" | 5.5 |\n| 5.5 | "f16round" | 5.5 |\n| 5.05 | "fround" | 5.050000190734863 |\n| 5.05 | "f16round" | 5.05078125 |\n| 5 | "fround" | 5 |\n| 5 | "f16round" | 5 |\n| -5.05 | "fround" | -5.050000190734863 |\n| -5.05 | "f16round" | -5.05078125 |',p=[];function f(e){const t={code:"code",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["In this Demo, the ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"Scenario Outline: Float, Single and double"})})," is not implemented","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Click the third button at the bottom:"}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"Generate test code from Gherkin Document and DEFINED STEPS"})}),"\n",(0,r.jsxs)(t.li,{children:["The generator will read the code file, get all the statements, and regroup them according to the Gherkin scenarios.","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"Examples"})," update their ",(0,r.jsx)(t.code,{children:"test.each"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.p,{children:["The left side is a testing written in Jest which has ",(0,r.jsx)(t.strong,{children:"only one"})," ",(0,r.jsx)(t.code,{children:"test()"}),", whereas the Gherkin file shows ",(0,r.jsx)(t.strong,{children:"two"})," ",(0,r.jsx)(t.code,{children:"Scenarios"})]}),"\n",(0,r.jsx)(i.H,{featureSource:d,testsSource:c})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},171:(e,t,n)=>{"use strict";n.d(t,{H:()=>I});var r=n(8297),o=n(2388),i=n(5528),s=n(5433),u=n(7272),a=n(3946),l=n.n(a),c=n(8033);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e){var t=e;return!!t&&!(!a.SyntaxKind[t.kind]||!a.NodeFlags[t.flags])}var h=["pos","end","id","parent","nextContainer"];function v(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];if(-1===h.indexOf(o)){var i=e[o],s=t[o];if("string"==typeof i){if("string"!=typeof s||s!==i)return!1}else if("number"==typeof i){if("number"!=typeof s||s!==i)return!1}else if(Array.isArray(i)){if(!Array.isArray(s)||s.length!==i.length)return!1;for(var u=0;u<i.length;u++)if(!v(i[u],s[u]))return!1}else if(m(i)){if(!m(s))return!1;if(!v(i,s))return!1}}}return!0}function g(e){return a.isParenthesizedExpression(e)&&a.isBinaryExpression(e.expression)?g(e.expression.right):a.isPropertyAccessExpression(e)?null!==(t=g(e.expression))&&void 0!==t?t:e.name.escapedText:a.isIdentifier(e)?e.escapedText:a.isCallExpression(e)||a.isAwaitExpression(e)?g(e.expression):a.isTaggedTemplateExpression(e)?g(e.tag):void 0;var t}function x(e,t,n){for(var r={},o=0;o<e.arguments.length;o++){var i=e.arguments[o],s=t.arguments[o];i.callback&&i.callback(s,t,r),i.searchCallSchema&&(a.isArrowFunction(s)||a.isFunctionExpression(s))&&y(i.searchCallSchema,s.body,n)}}function y(e,t,n){a.visitEachChild(t,(function(t){if(a.isExpressionStatement(t)&&a.isCallExpression(t.expression))for(var r=t.expression,o=g(r.expression),i=0;i<e.length;i++){var s=e[i];if("function"!=typeof s&&(o===s.keyword&&(x(s,r,n),s.chain)))for(var u,l=r,c=function(){if(a.isPropertyAccessExpression(l.expression)){var e=l.expression.name.escapedText,r=s.chain.find((function(t){return t.keyword===e}));return r&&x(r,l,n),{v:t}}l=l.expression};l.expression;)if(u=c())return u.v}}),n)}var b=function(e,t){return function(n){return{transformBundle:function(e){return e},transformSourceFile:function(r){return t.sourceFile=r,r.fileName.match(/\.test\.ts/)&&y(e,r,n),r}}}};var S=function(e){function t(){var t,n,r,o,i;t=e.call(this)||this,i="",(o="fileName")in(r=t)?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var s={keyword:"test",chain:[{keyword:"each",arguments:[{callback:function(e,n,r){var o=e.elements.map((function(e){var t={};return l().isObjectLiteralExpression(e)&&e.properties.forEach((function(e){if(l().isPropertyAssignment(e)){var n=e.initializer.getText(),r=e.name.getText();l().isStringLiteral(e.name)&&(r=r.substring(1,r.length-1)),l().isNumericLiteral(e.initializer)?t[r]=Number(n):l().isPrefixUnaryExpression(e.initializer)?t[r]=-Number(e.initializer.operand.getFullText()):l().isStringLiteral(e.initializer)?t[r]=n.substring(1,n.length-1):t[r]=n}})),t}));t.output.push({key:"Examples",value:n.parent.arguments[0].text,examples:o,pos:{start:t.parsePosition(n.pos),end:t.parsePosition(n.end)}})}}]}],arguments:[{callback:t.callbackOnStringArgumentFactory("Scenario")},{callback:t.callbackOnFnArgument,searchCallSchema:[{keyword:"expect",arguments:[{callback:function(e,n,r){return t.output.push({key:"Then",value:n.parent.getText(),pos:{start:t.parsePosition(n.pos),end:t.parsePosition(n.end)}}),e}}]}]}]},u={keyword:"describe",arguments:[{callback:t.callbackOnStringArgumentFactory("Feature")},{searchCallSchema:[{keyword:"test",chain:s.chain,arguments:s.arguments},{keyword:"it",chain:s.chain,arguments:s.arguments}]}]};return null===(n=u.arguments[1].searchCallSchema)||void 0===n||n.push(u),t.searchSchema=[u],t}return(0,u.A)(t,e),t.prototype.outputCode=function(){this.output=this.output.sort((function(e,t){var n=e.pos.start,r=t.pos.start;return n.line<r.line||n.line===r.line&&n.character<r.character?-1:1}));var e=[];return this.output.reduce((function(t,n,r,o){var i="",s="";switch(n.key){case"Feature":i="\nFeature: ",s=n.value;break;case"Scenario":i="\nScenario ",n.examples&&(i+="Outline: "),s=n.value;break;case"Given":case"Then":case"When":i="  "+((null==t?void 0:t.key)===n.key?"And":n.key)+" ",s=n.value;break;case"Examples":var u=n.examples,a=Object.keys(u[0]),l=new Array(a.length);l.fill(8);var c=function(e,t){return l[t]=Math.max(l[t],e.length),l[t]=8*Math.ceil(l[t]/8),e},d=function(e,t){var n=(l[t]-e.length)/2;return""+new Array(Math.ceil(n)).fill(" ").join("")+e+new Array(Math.floor(n)).fill(" ").join("")+"   "};i="Examples:\n",s=[a.map((function(e,t){return c(e,t)}))].concat(u.map((function(e){return a.map((function(t,n){return c(e[t].toString(),n)}))}))).map((function(e){return e.map(d).join("|")})).join("\n")}return e.push(""+i+s),n}),{}),""+e.join("\n")},t}(function(){function e(e){var t=this;d(this,"searchSchema",void 0),d(this,"source",""),d(this,"sourceFile",void 0),d(this,"output",[]),d(this,"possibleStep",[]),d(this,"callbackOnStringArgumentFactory",(function(e){return function(n,r,o){var i,s,u;if(a.isStringLiteral(n)||a.isNoSubstitutionTemplateLiteral(n))i=n.text;else{if(!a.isTemplateExpression(n))return;i=n.head.text+n.templateSpans.map((function(e){return"<"+e.expression.getText()+">"+e.literal.text})).join("")}var l=i.match(/^(When|Then|Given) (.+)$/);l?(s=l[1],u=l[2]):(s=e,u=i);var c,d=r.arguments.find((function(e){return a.isFunctionLike(e)&&a.isBlock(e.body)})),p=null==d?void 0:d.body,f={key:s,value:u,pos:{start:t.parsePosition(n.pos),end:t.parsePosition(n.end)},sourceCode:{fullText:r.getFullText(),statements:[].concat(null!==(c=null==p?void 0:p.statements)&&void 0!==c?c:[])},host:i};t.output.push(f),o.stepOfCurrentFunction=f,o.host=i}})),d(this,"callbackOnFnArgument",(function(e,n,r){var o,i=[],s=r.host,u=r.stepOfCurrentFunction,l=e;if(l.body){if(u.pos.start=t.parsePosition(l.body.pos),u.pos.end=t.parsePosition(l.body.end),i.push.apply(i,t.getComments(l.body,u)),i.length>0){i[i.length-1].pos.end=p({},u.pos.end),"Scenario"!==u.key&&(u.pos.end=t.parsePosition(i[0].pos.start.pos-1)),i[0].host=s;for(var c=1;c<i.length;c++){i[c].host=s;var d=i[c].pos.start.pos-1;i[c-1].pos.end=t.parsePosition(d)}}else{var f;(f=t.possibleStep).push.apply(f,t.generateFromKnownSteps(l.body))}(o=t.output).push.apply(o,i)}else console.error("Argument type is not functionExpression",a.SyntaxKind[l.kind])})),e&&(this.searchSchema=e)}var t=e.prototype;return t.parsePosition=function(e){if(this.sourceFile){var t=this.sourceFile.getLineAndCharacterOfPosition(e);return{line:t.line,character:t.character,pos:e}}throw new Error},t.groupToScenario=function(){var e=this.output.filter((function(e){return"Scenario"===e.key}));this.output.forEach((function(t){if("Scenario"!==t.key)switch(t.key){case"Given":case"When":case"Then":var n=e.find((function(e){return e.pos.start.pos<t.pos.start.pos&&e.pos.end.pos>=t.pos.end.pos}));if(!n)return;t.parent=n.value;break;case"Examples":var r=e.find((function(e){return e.value===t.value&&"Scenario"===e.key}));if(!r)return;t.parent=r.value,r.examples=t.examples}}))},t.getDeclaration=function(e){var t=this;return a.isObjectBindingPattern(e.name)?e.name.elements.map((function(e){return t.getDeclaration(e)})).flat():a.isIdentifier(e.name)?[e.name.escapedText.toString()]:[]},t.generateComments=function(){var e,t=this,n=null!==(e=this.possibleStep)&&void 0!==e?e:[],r=[],o=0;return n.reduce((function(e,n,i,s){var u=n.pos.start.pos;if("Matched Scenario"===n.key)return e;if(u<o)return console.error("warning: Overlap!"),e;var a=n.pos.end.pos;return e.find((function(e){return e.key===n.key&&e.value===n.value}))||(r.push.apply(r,[t.input.substring(o,u),"\n"].concat(n.value.split("\n").map((function(e){return"\n  //@"+n.key+e})),[t.input.substring(u,a),"\n  //# end of matched [@"+n.value+"] from ["+n.parent+"] Scenario\n"])),o=a),e}),[]),r.push(this.input.substring(o)),r.join("")},t.generateFromKnownSteps=function(e){var t=this,n=this.output.map((function(e){return{key:e.key,value:e.value,idxStatement:0}})),r=[];return e.statements.forEach((function(e,o){n.forEach((function(n,i){var s,u;if(!(n.idxStatement<0)){var a,l,c=t.output[i],d=null==c||null===(u=c.sourceCode)||void 0===u||null===(s=u.statements)||void 0===s?void 0:s[n.idxStatement];if(d)if(v(e,d)){if(n.idxStatement++,n.idxStatement===(null===(l=c.sourceCode)||void 0===l||null===(a=l.statements)||void 0===a?void 0:a.length)){var p={key:n.key,value:n.key+" "+n.value,startIdx:o-n.idxStatement+1,endIdx:o,from:[c]},f=r.find((function(e){return e.startIdx===p.startIdx&&e.endIdx===p.endIdx}));f?f.key===p.key&&f.value===p.value?f.from.push(c):f.value+="\n"+p.value:r.push(p),n.idxStatement=0}}else n.idxStatement=0}}))})),r.reduce((function(n,r,o,i){var s,u,a,l,c=e.statements[r.startIdx],d=e.statements[r.endIdx],p=e.statements.slice(r.startIdx,r.endIdx+1);return n.push({key:"",value:r.value,pos:{start:t.parsePosition(c.pos),end:t.parsePosition(d.end)},parent:r.from.map((function(e){return e.host})).join(", "),sourceCode:{statements:p,fullText:p.map((function(e){return e.getFullText()})).join(""),imports:[].concat(null!==(a=null===(s=r.from[0].sourceCode)||void 0===s?void 0:s.imports)&&void 0!==a?a:[]),exports:[].concat(null!==(l=null===(u=r.from[0].sourceCode)||void 0===u?void 0:u.exports)&&void 0!==l?l:[])}}),n}),[])},t.getComments=function(e,t){var n=this,r=[],o=t;return e.statements.forEach((function(e){var t,i,s=a.getLeadingCommentRanges(n.input,e.getFullStart());if(null==s||s.forEach((function(t){var o=n.input.substring(t.pos,t.end),i=null==o?void 0:o.match(/^\s*?\/\/\s*?@(When|Then|Given) (.+[^\s])\s*?$/);return i?(r.push({key:i[1],value:i[2],pos:{start:n.parsePosition(t.pos),end:n.parsePosition(e.end)},sourceCode:{fullText:"",imports:[],exports:[],statements:[]}}),o):o})),o=null!==(t=r[r.length-1])&&void 0!==t?t:o)if(o.sourceCode=o.sourceCode||{fullText:"",statements:[]},null===(i=o.sourceCode.statements)||void 0===i||i.push(e),a.isExpressionStatement(e)){var u,l,c=[g(e.expression)].flat();o.sourceCode.imports=(null===(l=o.sourceCode)||void 0===l?void 0:l.imports)||[],(u=o.sourceCode.imports).push.apply(u,c.filter((function(e){var t,n;return!(null==o||null===(n=o.sourceCode)||void 0===n||null===(t=n.imports)||void 0===t?void 0:t.includes(e))})))}else if(a.isVariableStatement(e)){var d,p=e.declarationList.declarations.map((function(e){return n.getDeclaration(e)}));o.sourceCode.exports=o.sourceCode.exports||[],(d=o.sourceCode.exports).push.apply(d,p.flat().filter((function(e){var t,n;return!(null==o||null===(n=o.sourceCode)||void 0===n||null===(t=n.exports)||void 0===t?void 0:t.includes(e))})))}a.isIfStatement(e)&&a.isBlock(e.thenStatement)&&r.push.apply(r,n.getComments(e.thenStatement,o))})),r.flat()},t.dealwithSourceMap=function(e){return{}},t.transpile=function(e,t){var n;if(void 0===t&&(t={}),null===(n=t.fileName)||void 0===n?void 0:n.match(/\.test\.ts$/)){this.input=e;var r=a.transpileModule(this.input,f(p({},t),{transformers:{before:[b(this.searchSchema,this)]},compilerOptions:{target:a.ScriptTarget.ESNext,module:a.ModuleKind.ESNext,jsx:a.JsxEmit.React,isolatedModules:!0,sourceMap:!0}}));return{outputText:this._prepareOutput(),sourceMapText:r.sourceMapText}}return a.transpileModule(e,f(p({},t),{compilerOptions:{target:a.ScriptTarget.ESNext,module:a.ModuleKind.ESNext,jsx:a.JsxEmit.React,isolatedModules:!0,sourceMap:!0}}))},t._prepareOutput=function(){return this.groupToScenario(),this.outputCode()},t.outputCode=function(){return""},(0,c.A)(e,[{key:"steps",get:function(){return this.output.map((function(e){return{key:e.key,value:e.value,host:e.host,parent:e.parent,pos:e.pos,examples:e.examples}}))}},{key:"uniqueSteps",get:function(){var e=this.steps;return e.filter((function(t,n){return e.findIndex((function(e){return e.key===t.key&&e.value===t.value}))===n}))}},{key:"input",get:function(){return this.source},set:function(e){var t,n=this.dealwithSourceMap(e);(null==n||null===(t=n.sourcesContent)||void 0===t?void 0:t[0])?this.source=n.sourcesContent[0]:this.source=e}}])}()),k=n(8255);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,C,E=n(803).nF.uuid(),T=new k.AstBuilder(E),O=new k.GherkinClassicTokenMatcher,F=new k.Parser(T,O),P=function(){function e(){j(this,"transpiler",void 0),j(this,"source",void 0)}var t=e.prototype;return t.compileGherkinFromSource=function(e){return F.parse(e)},t.compileKnownStepsFromSource=function(e){this.source=e;var t=new S;t.fileName="pathTestInput.test.ts";t.transpile(e,{fileName:"pathTestInput.test.ts"}).outputText;return this.transpiler=t,t.output},t.generateGherkinFromSource=function(e,t){var n,r,o=this.compileGherkinFromSource(t),i=null===(n=o.feature)||void 0===n?void 0:n.children.map((function(t){var n,r,o,i,s=null===(n=t.scenario)||void 0===n?void 0:n.steps.map((function(n){var r=n.text,o="And "===n.keyword?i:n.keyword;i=o;var s,u,a=e.find((function(e){var n;return e.value===r&&e.parent===(null===(n=t.scenario)||void 0===n?void 0:n.name)}));if(null==a?void 0:a.sourceCode)return["  "+(null!==(u=null===(s=a.sourceCode.statements)||void 0===s?void 0:s.map((function(e){return e.getFullText()})))&&void 0!==u?u:[]).join("")].join("");var l,c,d,p,f,m=e.find((function(e){return e.value===r}));return m?["/**","*     FOUND: @"+o+n.text,"*     FROM: (Scenario)"+m.parent+" - [Step]"+m.key+" "+m.value,"*     referenced: ["+(null===(l=m.sourceCode)||void 0===l?void 0:l.imports)+"]","*     declared: ["+(null===(c=m.sourceCode)||void 0===c?void 0:c.exports)+"]","* (remove this comments block with: /^\\s*?\\/\\*\\*\\n\\*\\s*?FOUND: @.+\\n(\\*.+\\n)+/g )",""+(null!==(f=null===(p=m.sourceCode)||void 0===p||null===(d=p.statements)||void 0===d?void 0:d.map((function(e){return e.getFullText()})))&&void 0!==f?f:[]).join(""),"*/"].join("\n"):["//@"+o+n.text,"  // TODO: implement assertions here;","  return 'pending';",""].join("    \n")})).join("\n"),u="it",a=[];(null===(r=t.scenario)||void 0===r?void 0:r.examples)&&(u="test.each([\n  "+t.scenario.examples.map((function(e){var t,n,r=[];return a=null!==(n=null===(t=e.tableHeader)||void 0===t?void 0:t.cells.map((function(e){return e.value})))&&void 0!==n?n:[],e.tableBody.forEach((function(e){var t={};e.cells.forEach((function(e,n){t[a[n]]=JSON.parse(e.value)}));var n=Object.keys(t).map((function(e){var n=JSON.stringify(t[e]);return e.match(/^[a-zA-Z][0-9a-zA-Z]*?$/)?e+": "+n:'"'+e+'": '+n})).join(", ");r.push("{"+n+"}")})),r.join(",\n  ")})).join("")+"\n])",a=a.map((function(e){return e.match(/^[a-zA-Z][0-9a-zA-Z]*?$/)?e:"'"+e+"': "+e.replace(/-(\w)/g,(function(e){return e[1].toUpperCase()}))})));return u+"('"+(null===(o=t.scenario)||void 0===o?void 0:o.name)+"', async ({ "+a+" }) => {\n"+s+"\n});"})).flat().join("\n"),s=e.find((function(e){var t;return"Feature"===e.key&&e.value===(null===(t=o.feature)||void 0===t?void 0:t.name)}));if(null==s||null===(r=s.sourceCode)||void 0===r?void 0:r.statements){var u=s.sourceCode.statements;return[this.source.substring(0,u[0].getFullStart()),i,this.source.substring(u[u.length-1].end)].join("\n")}return i},e}(),M=n(5917),A=(0,s.Ay)("div")(w||(w=(0,r.A)(["\n  display: flex;\n  > * {\n    flex: 1 1 auto;\n  }\n"]))),N=(0,s.Ay)("div")(C||(C=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n"]))),D=function(e){var t=e.updateHandler,n=e.type,r=e.value,s=(0,i.useState)(),u=s[0],a=s[1],l=(0,i.useRef)(null);return(0,o.jsxs)(N,{children:[(0,o.jsx)("input",{ref:l,onChange:function(e){e.target.files&&e.target.files[0].text().then((function(e){t(e),u&&u.setValue(e)}))},type:"file"}),(0,o.jsx)(M.KE,{value:r,height:"40vh",language:null!=n?n:"typescript",onMount:function(e){return a(e)},onChange:function(e){return t(null!=e?e:"")}})]})},I=function(e){var t=e.testsSource,n=void 0===t?"":t,r=e.featureSource,s=void 0===r?"":r,u=(0,i.useState)(),a=u[0],l=u[1],c=(0,i.useState)("typescript"),d=c[0],p=c[1],f=(0,i.useState)(n),m=f[0],h=f[1],v=(0,i.useState)(s),g=v[0],x=v[1];return i.useEffect((function(){s&&h(s),n&&x(n)}),[n,s]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(A,{children:[(0,o.jsx)(D,{updateHandler:x,value:n,type:"typescript"}),(0,o.jsx)(D,{updateHandler:h,value:s,type:"markdown"})]}),(0,o.jsxs)(A,{children:[(0,o.jsx)("button",{onClick:function(){if(a){var e=new S;e.transpile(g,{fileName:"a.test.ts"}),p("typescript"),a.setValue((t=e.output).filter((function(e,n){return t.findIndex((function(t){return t.key===e.key&&t.value===e.value}))===n})).map((function(e){var t;return e.sourceCode?""+(null===(t=e.sourceCode.statements)||void 0===t?void 0:t.map((function(e){return e.getFullText()})).join("")):""})).join(""))}var t},type:"button",disabled:""===g,children:"View DEFINED STEPS"}),(0,o.jsx)("button",{onClick:function(){if(a){var e=new S;e.transpile(g,{fileName:"a.test.ts"});var t=e.generateComments();p("typescript"),a.setValue(t)}},type:"button",disabled:""===g,children:"Generate comments of test code from DEFINED STEPS"}),(0,o.jsx)("button",{onClick:function(){if(a){var e,t=new P,n=t.compileKnownStepsFromSource(g),r=null!==(e=t.generateGherkinFromSource(n,m))&&void 0!==e?e:"";p("typescript"),a.setValue(r)}},type:"button",disabled:""===m,children:"Generate test code from Gherkin Document and DEFINED STEPS"}),(0,o.jsx)("button",{onClick:function(){if(a){var e=(new S).transpile(g,{fileName:"a.test.ts"}).outputText;p("markdown"),a.setValue(e)}},type:"button",disabled:""===g,children:"Generate Gherkin from DEFINED STEPS"})]}),(0,o.jsx)(A,{children:(0,o.jsx)(N,{children:(0,o.jsx)(M.KE,{height:"40vh",language:d,onMount:function(e){return l(e)}})})})]})}},9876:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9876,e.exports=t},6621:()=>{},4332:()=>{},6622:()=>{},9406:()=>{},3769:()=>{},7142:()=>{},563:()=>{}}]);